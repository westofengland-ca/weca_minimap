<!doctype html>
<html lang="en-GB">
  <head>
    <title>WECA Minimap</title>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="https://www.westofengland-ca.gov.uk/wp-content/themes/weca/assets/images/favicon/favicon-96x96.png">
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css' rel='stylesheet' />    
  </head>
  <body>
    <style>
      #basemap_menu {
      position: absolute;
      background: #efefef;
      padding: 10px;
      font-family: 'Open Sans', sans-serif;
      }
      </style>
    <div id='map' style='width: 100vw; height: 100vh;'></div>
    <div id="basemap_menu">
      <input id="light-v11" type="radio" name="rtoggle" value="light" checked="checked">
      <label for="light-v11">Light</label>
      <input id="streets-v12" type="radio" name="rtoggle" value="streets">
      <label for="streets-v12">Streets</label>
    </div>
    <script>
      // Mapbox API token
      mapboxgl.accessToken = 'pk.eyJ1Ijoid2VjYS10aGVvIiwiYSI6ImNsaTA1YmZkbDAzbW0zcG80MGpkbnB1dnAifQ.8TLXZTUVFf7LuKfYcpJj0A';
      // Map object
      var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/light-v11',
        center: [-2.59, 51.45],
        maxBounds: [
          [-5.75, 49.95],  // SW bounds
          [-0.91, 52.12]  // NE bounds
        ],
        zoom: 9,
        maxZoom: 17,
        minZoom: 7
      });

      // basemap list
      const layerList = document.getElementById('basemap_menu');
      const inputs = layerList.getElementsByTagName('input');

      for (const input of inputs) {
        input.onclick = (layer) => {
          const layerId = layer.target.id;
          map.setStyle('mapbox://styles/mapbox/' + layerId);
        };
      }

    </script>
  </body>
</html>
